{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RoomsComponent = class RoomsComponent {\n  constructor(socketService, sharedService, route, router) {\n    this.socketService = socketService;\n    this.sharedService = sharedService;\n    this.route = route;\n    this.router = router;\n    this.roomName = '';\n    this.rooms = [];\n    this.userName = '';\n  }\n  onCreateRoom(roomName) {\n    this.roomName = '';\n    // this.router.navigate(['/room', roomName]);\n    this.socketService.createRoom(roomName);\n  }\n  onDeleteRoom(roomName) {\n    this.socketService.deleteRoom(roomName);\n  }\n  notEmpty(room) {\n    return room.users.length > 0;\n  }\n  ngOnInit() {\n    let userName = this.sharedService.getUserName();\n    if (userName) {\n      this.userName = userName;\n    } else {\n      this.router.navigate(['']);\n    }\n    this.socketService.fetchRooms();\n    this.socketService.onFetchRooms().subscribe(data => {\n      this.rooms = data;\n    });\n  }\n};\nRoomsComponent = __decorate([Component({\n  selector: 'app-rooms',\n  templateUrl: './rooms.component.html',\n  styleUrls: ['./rooms.component.css']\n})], RoomsComponent);\nexport { RoomsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAMzBC,YACQC,aAA4B,EAC1BC,aAA4B,EAC5BC,KAAqB,EACrBC,MAAc;IAHhB,kBAAa,GAAbH,aAAa;IACX,kBAAa,GAAbC,aAAa;IACb,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IARhB,aAAQ,GAAY,EAAE;IACtB,UAAK,GAAY,EAAE;IACnB,aAAQ,GAAY,EAAE;EAOnB;EAEHC,YAAY,CAACC,QAAiB;IAC5B,IAAI,CAACA,QAAQ,GAAG,EAAE;IAClB;IACA,IAAI,CAACL,aAAa,CAACM,UAAU,CAACD,QAAQ,CAAC;EACzC;EAEAE,YAAY,CAACF,QAAgB;IAC3B,IAAI,CAACL,aAAa,CAACQ,UAAU,CAACH,QAAQ,CAAC;EACzC;EAEAI,QAAQ,CAACC,IAAW;IAClB,OAAOA,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC;EAC9B;EAEDC,QAAQ;IAEL,IAAIC,QAAQ,GAAG,IAAI,CAACb,aAAa,CAACc,WAAW,EAAE;IAC/C,IAAGD,QAAQ,EAAE;MACX,IAAI,CAACA,QAAQ,GAAGA,QAAQ;KACzB,MAAM;MACL,IAAI,CAACX,MAAM,CAACa,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;;IAG5B,IAAI,CAAChB,aAAa,CAACiB,UAAU,EAAE;IAC/B,IAAI,CAACjB,aAAa,CAACkB,YAAY,EAAE,CAACC,SAAS,CAAEC,IAAW,IAAI;MACxD,IAAI,CAACC,KAAK,GAAGD,IAAI;IACnB,CAAC,CACF;EACJ;CAEA;AA3CYtB,cAAc,eAL1BD,SAAS,CAAC;EACTyB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW1B,cAAc,CA2C1B;SA3CYA,cAAc","names":["Component","RoomsComponent","constructor","socketService","sharedService","route","router","onCreateRoom","roomName","createRoom","onDeleteRoom","deleteRoom","notEmpty","room","users","length","ngOnInit","userName","getUserName","navigate","fetchRooms","onFetchRooms","subscribe","data","rooms","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Projetos\\socketsio\\angular-client\\src\\app\\components\\rooms\\rooms.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { SocketService } from 'src/app/services/socket.service'; \nimport { SharedService } from 'src/app/services/shared.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Room } from 'src/app/models/rooms';\n\n@Component({\n  selector: 'app-rooms',\n  templateUrl: './rooms.component.html',\n  styleUrls: ['./rooms.component.css']\n})\nexport class RoomsComponent {\n\n  roomName : string = '';\n  rooms : Room[] = [];  \n  userName : string = '';\n\n  constructor(\n\t\tprivate socketService: SocketService,\n    private sharedService: SharedService,\n    private route: ActivatedRoute,\n    private router: Router,\n\t) { }\n\n  onCreateRoom(roomName : string) {    \n    this.roomName = '';\n    // this.router.navigate(['/room', roomName]);\n    this.socketService.createRoom(roomName);\n  }\n\n  onDeleteRoom(roomName: string) {   \n    this.socketService.deleteRoom(roomName);\n  }\n\n  notEmpty(room : Room) {\n    return room.users.length > 0;\n  }\n\n\tngOnInit(): void {\n\n    let userName = this.sharedService.getUserName();\n    if(userName) {\n      this.userName = userName; \n    } else {\n      this.router.navigate(['']);\n    }\n\n    this.socketService.fetchRooms();\n    this.socketService.onFetchRooms().subscribe((data:Room[]) => {\n        this.rooms = data;        \n      }\n    );      \n\t} \n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}